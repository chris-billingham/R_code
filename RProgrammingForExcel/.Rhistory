url=paste("https://www.r-users.com/jobs/page/",i,"/",sep="")
print(url)
url_all=rbind(url_all,url)
}
url_all
url_all=NULL
for (i in pages){
print(i)
url=paste("https://www.r-users.com/jobs/page/",i,"/",sep="")
print(url)
url_all=rbind(url_all,url)
}
url_all
for (i in url_all){
print(i)
title=R_job%>%html_nodes(css_code)%>%html_text()
title_all=rbind(title_all,title)
}
title_all=NULL
for (i in url_all){
print(i)
title=R_job%>%html_nodes(css_code)%>%html_text()
title_all=rbind(title_all,title)
}
title_all
title_all=NULL
for (i in url_all){
print(i)
title=i%>%html_nodes(css_code)%>%html_text()
title_all=rbind(title_all,title)
}
title_all
title_all=NULL
for (i in url_all){
print(i)
html=read_html(i)
title=html%>%html_nodes(css_code)%>%html_text()
title_all=rbind(title_all,title)
}
title_all
url_all
url_all=NULL
for (i in pages){
print(i)
url=paste("https://www.r-users.com/jobs/page/",i,"/",sep="")
print(url)
url_all=rbind(url_all,url)
data.frame(url_all)
}
url_all
url_all=NULL
for (i in pages){
print(i)
url=paste("https://www.r-users.com/jobs/page/",i,"/",sep="")
print(url)
url_all=rbind(url_all,url)
}
url_all
url_all
class(url_all)
as.data.frame(url_all)
class(url_all)
?as.data.frame
as.data.frame(url_all)
tt=as.data.frame(url_all, row.names = NULL, optional = FALSE,
stringsAsFactors = default.stringsAsFactors())
class(tt)
tt
tt=as.data.frame(url_all, row.names = NULL)
tt
url_all
url
as.data.frame(url)
url
class(url)
tt=as.data.frame(url)
class(tt)
url_all=NULL
for (i in pages){
print(i)
url=paste("https://www.r-users.com/jobs/page/",i,"/",sep="")
url=as.data.frame(url)
url_all=rbind(url_all,url)
}
url_all
class(url_all)
title_all=NULL
for (i in url_all){
print(i)
html=read_html(i)
title=html%>%html_nodes(css_code)%>%html_text()
title_all=rbind(title_all,title)
}
title_all
title_all=NULL
for (i in url_all){
print(i)
html=read_html(i)
title=html%>%html_nodes(css_code)%>%html_text()
print(titel)
#title_all=rbind(title_all,title)
}
url_all
title_all=NULL
for (i in url_all){
print(i)
#html=read_html(i)
#title=html%>%html_nodes(css_code)%>%html_text()
#print(titel)
#title_all=rbind(title_all,title)
}
url_all=NULL
for (i in pages){
print(i)
url=paste("https://www.r-users.com/jobs/page/",i,"/",sep="")
url=as.data.frame(url)
url_all=c(url_all,url)
}
url_all
url_all
url_all=NULL
for (i in pages){
print(i)
url=paste("https://www.r-users.com/jobs/page/",i,"/",sep="")
url_all=c(url_all,url)
}
url_all
title_all=NULL
for (i in url_all){
print(i)
#html=read_html(i)
#title=html%>%html_nodes(css_code)%>%html_text()
#print(titel)
#title_all=rbind(title_all,title)
}
title_all=NULL
for (i in url_all){
print(i)
html=read_html(i)
title=html%>%html_nodes(css_code)%>%html_text()
print(titel)
#title_all=rbind(title_all,title)
}
title_all=NULL
for (i in url_all){
print(i)
html=read_html(i)
title=html%>%html_nodes(css_code)%>%html_text()
print(title)
#title_all=rbind(title_all,title)
}
title_all=NULL
for (i in url_all){
print(i)
html=read_html(i)
title=html%>%html_nodes(css_code)%>%html_text()
print(title)
title_all=c(title_all,title)
}
title_all
title_css=".job-expired:nth-child(6) strong+ a , strong a"
location_css=".location strong"
title_all=NULL
location_all=NULL
for (i in url_all){
#print(i)
html=read_html(i)
title=html%>%html_nodes(title_css)%>%html_text()
location=html%>%html_nodes(location_css)%>%html_text()
#print(title)
title_all=c(title_all,title)
location_all=c(location_all,location)
}
location_all
ebay=read_html("http://www.ebay.com/sch/i.html?_from=R40&_sacat=0&_nkw=spinner&_pgn=8&_skc=350&rt=nc")
pages=c(1:3)
urls=rbindlist(lapply(pages,function(x){
url=paste("http://www.ebay.com/sch/i.html?_from=R40&_sacat=0&_nkw=spinner&_pgn=",x,"&_skc=350&rt=nc",sep="")
data.frame(url)
}),fill=TRUE)
urls
url_all=NULL
for (i in pages){
#print(i)
url=paste("http://www.ebay.com/sch/i.html?_from=R40&_sacat=0&_nkw=spinner&_pgn=",x,"&_skc=350&rt=nc",sep="")
url_all=c(url_all,url)
}
url_all
url_all=NULL
for (i in pages){
#print(i)
url=paste("http://www.ebay.com/sch/i.html?_from=R40&_sacat=0&_nkw=spinner&_pgn=",i,"&_skc=350&rt=nc",sep="")
url_all=c(url_all,url)
}
url_all
title_css=".vip"
price_css=".prc .bold"
title_all=NULL
price_all=NULL
for (i in url_all){
#print(i)
html=read_html(i)
title=html%>%html_nodes(title_css)%>%html_text()
price=html%>%html_nodes(price_css)%>%html_text()
#print(title)
title_all=c(title_all,title)
price_all=c(price_all,price)
}
title_all
price_all
library(stringr)
title_all002=str_replace(title_all, "\n", "")
title_all002
title_all002=str_replace(title_all, "\n", "")
title_all002=str_replace(title_all002, "\r", "")
title_all002=str_replace(title_all002, "\t", "")
title_all002
price_all002=str_replace(price_all, "\n", "")
price_all002=str_replace(price_all002, "\r", "")
price_all002=str_replace(price_all002, "\t", "")
price_all002
?str_replace
price_all002=str_replace_all(price_all, "\n", "")
price_all002=str_replace_all(price_all002, "\r", "")
price_all002=str_replace_all(price_all002, "\t", "")
price_all002
title_all
title_all002=str_replace_all(title_all, "\n", "")
title_all002=str_replace_all(title_all002, "\r", "")
title_all002=str_replace_all(title_all002, "\t", "")
title_all002
price_all
title_all
title_all002=str_replace_all(title_all, "\n", "")
title_all002=str_replace_all(title_all002, "\r", "")
title_all002=str_replace_all(title_all002, "\t", "")
title_all002
price_all002
all001=cbind(title_all002,price_all)
all001
all001=cbind(title_all002,price_all002)
all001
head(all001)
View(all001)
url_all
View(all001)
title_css=".vip"
price_css=".prc .bold"
location_css="#ListViewInner .full-width li"
title_all=NULL
price_all=NULL
location_all=NULL
for (i in url_all){
#print(i)
html=read_html(i)
title=html%>%html_nodes(title_css)%>%html_text()
price=html%>%html_nodes(price_css)%>%html_text()
location=html%>%html_nodes(location_css)%>%html_text()
#print(title)
title_all=c(title_all,title)
price_all=c(price_all,price)
location_all=c(location_all,location)
}
location_all
pages=c(1:2)
################# page   ################
url_all=NULL
for (i in pages){
#print(i)
url=paste("http://www.ebay.com/sch/i.html?_from=R40&_sacat=0&_nkw=spinner&_pgn=",i,"&_skc=350&rt=nc",sep="")
url_all=c(url_all,url)
}
url_all
#############  contents  ##################################
title_css=".vip"
price_css=".prc .bold"
location_css="#ListViewInner .full-width , #item544387e84c li"
title_all=NULL
price_all=NULL
location_all=NULL
for (i in url_all){
#print(i)
html=read_html(i)
title=html%>%html_nodes(title_css)%>%html_text()
price=html%>%html_nodes(price_css)%>%html_text()
location=html%>%html_nodes(location_css)%>%html_text()
#print(title)
title_all=c(title_all,title)
price_all=c(price_all,price)
location_all=c(location_all,location)
}
location_all
title_all
#############  contents  ##################################
title_css=".vip"
price_css=".prc .bold"
location_css="#ListViewInner .full-width , #item544387e84c li"
title_all=NULL
price_all=NULL
location_all=NULL
link_all=NULL
for (i in url_all){
#print(i)
html=read_html(i)
title=html%>%html_nodes(title_css)%>%html_text()
link=html%>%html_nodes(title_css)%>%html_attr("href")
price=html%>%html_nodes(price_css)%>%html_text()
#print(title)
title_all=c(title_all,title)
link_all=c(link_all,link)
price_all=c(price_all,price)
#location_all=c(location_all,location)
}
link_all
head(link_all)
all001=cbind(title_all002,price_all002,link_all)
all001=cbind(cbind(title_all002,price_all002),link_all)
all001=cbind(title_all002,price_all002)
dim(link_all)
head(link_all)
head(all001)
dim(all001)
head(link_all)
as.data.frame(link_all)
link_all002=as.data.frame(link_all)
View(link_all002)
title_css=".vip"
price_css=".prc .bold"
location_css="#ListViewInner .full-width , #item544387e84c li"
title_all=NULL
price_all=NULL
location_all=NULL
link_all=NULL
for (i in url_all){
#print(i)
html=read_html(i)
title=html%>%html_nodes(title_css)%>%html_text()
link=html%>%html_nodes(title_css)%>%html_attr("href")
price=html%>%html_nodes(price_css)%>%html_text()
print(title)
print(link)
title_all=c(title_all,title)
link_all=c(link_all,link)
price_all=c(price_all,price)
#location_all=c(location_all,location)
}
all002=cbind(all001,link_all)
all002=cbind(all001,link_all002)
View(all002)
library(xlsx)
install.packages("xlsx")
library(xlsx)
write.xlsx(all002, "C:/Users/User/Desktop/Mission/R/output/ebay001.xlsx")
head(all001)
pages=c(1:2)
pages
url_all=NULL
for (i in pages){
#print(i)
url=paste("http://www.ebay.com/sch/i.html?_from=R40&_sacat=0&_nkw=spinner&_pgn=",i,"&_skc=350&rt=nc",sep="")
url_all=c(url_all,url)
}
url_all
head(all001)
View(all001)
ary(installr)
#updateR()
#install.packages("xml2")
#install.packages("xlsx")
library(xml2)
library(xlsx)
library(rvest)
library(jpeg)
library(httr)
library(stringr)
#################    ebay  ###################################
pages=c(1:2)
################# page   ################
url_all=NULL
for (i in pages){
#print(i)
url=paste("http://www.ebay.com/sch/i.html?_from=R40&_sacat=0&_nkw=spinner&_pgn=",i,"&_skc=350&rt=nc",sep="")
url_all=c(url_all,url)
}
url_all
#############  contents  ##################################
title_css=".vip"
price_css=".prc .bold"
location_css="#ListViewInner .full-width , #item544387e84c li"
title_all=NULL
price_all=NULL
#location_all=NULL
#link_all=NULL
for (i in url_all){
#print(i)
html=read_html(i)
title=html%>%html_nodes(title_css)%>%html_text()
link=html%>%html_nodes(title_css)%>%html_attr("href")
price=html%>%html_nodes(price_css)%>%html_text()
print(title)
print(link)
title_all=c(title_all,title)
#link_all=c(link_all,link)
price_all=c(price_all,price)
#location_all=c(location_all,location)
}
title_all
title_all002=str_replace_all(title_all, "\n", "")
title_all002=str_replace_all(title_all002, "\r", "")
title_all002=str_replace_all(title_all002, "\t", "")
title_all002
price_all
price_all002=str_replace_all(price_all, "\n", "")
price_all002=str_replace_all(price_all002, "\r", "")
price_all002=str_replace_all(price_all002, "\t", "")
price_all002
all001=cbind(title_all002,price_all002)
head(all001)
dim(all001)
write.xlsx(all001, "C:/Users/User/Desktop/Mission/R/output/ebay001.xlsx")
write.xlsx(all001, "C:/Users/User/Desktop/Mission/R/output/ebay001.xlsx")
write.csv(all001, "C:/Users/User/Desktop/Mission/R/output/ebay001.csv")
url_all
pages=c(1:10)
################# page   ################
url_all=NULL
for (i in pages){
#print(i)
url=paste("http://www.ebay.com/sch/i.html?_from=R40&_sacat=0&_nkw=spinner&_pgn=",i,"&_skc=350&rt=nc",sep="")
url_all=c(url_all,url)
}
url_all
#############  contents  ##################################
title_css=".vip"
price_css=".prc .bold"
location_css="#ListViewInner .full-width , #item544387e84c li"
title_all=NULL
price_all=NULL
#location_all=NULL
#link_all=NULL
for (i in url_all){
#print(i)
html=read_html(i)
title=html%>%html_nodes(title_css)%>%html_text()
link=html%>%html_nodes(title_css)%>%html_attr("href")
price=html%>%html_nodes(price_css)%>%html_text()
print(title)
print(link)
title_all=c(title_all,title)
#link_all=c(link_all,link)
price_all=c(price_all,price)
#location_all=c(location_all,location)
}
title_all
title_all002=str_replace_all(title_all, "\n", "")
title_all002=str_replace_all(title_all002, "\r", "")
title_all002=str_replace_all(title_all002, "\t", "")
title_all002
price_all
price_all002=str_replace_all(price_all, "\n", "")
price_all002=str_replace_all(price_all002, "\r", "")
price_all002=str_replace_all(price_all002, "\t", "")
price_all002
all001=cbind(title_all002,price_all002)
head(all001)
dim(all001)
write.csv(all001, "C:/Users/User/Desktop/Mission/R/output/ebay001.csv")
url_all
pages=c(1:2)
################# page   ################
url_all=NULL
for (i in pages){
#print(i)
url=paste("http://www.ebay.com/sch/i.html?_from=R40&_sacat=0&_nkw=spinner&_pgn=",i,"&_skc=350&rt=nc",sep="")
url_all=c(url_all,url)
}
url_all
#############  contents  ##################################
title_css=".vip"
price_css=".prc .bold"
location_css="#ListViewInner .full-width , #item544387e84c li"
title_all=NULL
price_all=NULL
#location_all=NULL
#link_all=NULL
for (i in url_all){
#print(i)
html=read_html(i)
title=html%>%html_nodes(title_css)%>%html_text()
link=html%>%html_nodes(title_css)%>%html_attr("href")
price=html%>%html_nodes(price_css)%>%html_text()
print(title)
print(link)
title_all=c(title_all,title)
#link_all=c(link_all,link)
price_all=c(price_all,price)
#location_all=c(location_all,location)
}
title_all
title_all002=str_replace_all(title_all, "\n", "")
title_all002=str_replace_all(title_all002, "\r", "")
title_all002=str_replace_all(title_all002, "\t", "")
title_all002
price_all
price_all002=str_replace_all(price_all, "\n", "")
price_all002=str_replace_all(price_all002, "\r", "")
price_all002=str_replace_all(price_all002, "\t", "")
price_all002
all001=cbind(title_all002,price_all002)
head(all001)
dim(all001)
write.csv(all001, "C:/Users/User/Desktop/Mission/R/output/ebay001.csv")
